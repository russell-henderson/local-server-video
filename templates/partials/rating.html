<!-- templates/partials/rating.html
     Reusable rating widget component with accessible buttons and shared data attributes -->
{% set current = current_rating or 0 %}
<div class="rating"
     role="radiogroup"
     aria-label="Rate this video"
     data-media-hash="{{ media_hash }}"
     {% if filename %}data-filename="{{ filename }}"{% endif %}
     data-current="{{ current }}">
  {% for i in range(1,6) %}
    <button data-value="{{ i }}"
            aria-checked="{{ 'true' if i <= current else 'false' }}"
            role="radio"
            class="star {% if i <= current %}is-active{% endif %}"
            aria-label="{{ i }} star{% if i != 1 %}s{% endif %}">
      <i class="fa{% if i <= current %}s{% else %}r{% endif %} fa-star"></i>
    </button>
  {% endfor %}
</div>
